# Mac OS 命令行
## 命令相关
### 补全命令
按 tab 键可以补全命令和文件路径。如果按 tab 啥都没发生，表示有超过一个命令或路径满足当前的输入内容，连按两下 tab 查看满足条件的所有命令。

### 搜索命令记录
输入 ctrl-r 搜索命令记录。

输入上箭头键，可以显示最近一条执行的命令。按多次上箭头键，看更久的命令。

### 查看命令行文档
```bash
# 查看命令文档
man 命令

# 搜索相关命令
man -k 命令
```

[在线文档](https://explainshell.com/)

### 快捷键
命令行默认用的是 Emacs 的快捷键。光标移动，删除内容都可以用 Emacs 的快捷键。如：ctrl-a 可以将光标移至行首，ctrl-e 可以将光标移至行尾，ctrl-k 可以删除光标至行尾的所有内容，ctrl-u 可以删除行内光标所在位置之前的内容。

执行下面的命令，可以设置成 vi 风格的快捷键。
``` bash
set -o vi
```

改回来
``` bash
set -o emacs
```

## 文件目录操作
```bash
# 创建
mkdir 文件夹名
mkdir -p a/b/c # 创建多级目录

# 路径移动
cd .. # 进入上级目录
cd / # 进入根路径
cd ~ # 进入工作目录
cd - # 进入上次访问的目录
cd 在Finder中，将目标目录托拽到命令行中

# 在 Finder 中打开当前路径
open .

# 查看当前路径
pwd

# 查看当前文件夹
ls
ls -a # 显示隐藏文件
ls -l # 查看文件及权限
tree # 以树形结构显示目录结构

# 删除
rm 文件夹名
rm -r 文件夹名 # 删除该文件夹及包含的文件
```

## 文件操作
```bash
# 创建
touch 文件名

# 查看文件
cat 文件名 # 查看文件内容。不支持修改
vi 文件名 # 用 vi 打开。支持直接修改
head 文件名 # 查看文件的开头一行
tail 文件名 # 查看文件的最后一行

# 通过文件名搜索文件
find . -name 文件名 # 文件名支持正则

```

## 管道
```bash
# |：将一个命令的结果输出到另一个命令
cat README.md | say # 把 README.md 读出来
history | grep 'git status' -c # 统计指定命令执行了多少次

# 将命令的执行结果输出到文件
tree > output.txt
>> # 追加

```

## 字符串操作
```bash
# 搜索字符串
grep 搜索字符串 文件

# 通配符 *
find . -name '*.txt'
```

## 系统操作
```bash
# 结束当前命令行的执行
# ctrl-c

# 杀死进程
kill 进程id

# 用管理员的方式运行命令
sudo 命令
```

## 网络操作
```bash
# 查看ip
ifconfig | grep 192

# 看某个ip 通不通
ping ip

## 端口占用情况
sudo lsof -i :端口号

```

## 其他
```bash
# 文字转语音
say 内容
```

